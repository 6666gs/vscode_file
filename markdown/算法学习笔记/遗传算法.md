由于超表面的设计中需要用到许多目标优化算法，同时许多目前的问题都需要优化算法进行解决，因此我也开始学习优化算法了。比较经典的优化算法包括：**遗传算法、粒子群优化算法、梯度下降算法、水平集算法、密度惩罚算法**。当然现在比较新的还有神经网络算法。

首先从遗传算法开始：

### 遗传算法

遗传算法简单而又适用性极强，其仿照达尔文的遗传进化：在一个**种群**中存在一定数量的**个体**，每个个体携带自己的**遗传物质**，其对应了不同的**表现型**；不同的个体会**交配**，产生新的个体，而不同的个体其表现型对自然界的**适应度**不同，因此随着演变，种群中将存留下越来越多表现型适应度高的个体。
> 黑体字便是遗传算法中的常用词

《Genetic Algorithm Essential》中的基本遗传算法伪码
```
initialize population
repeat
    repeat
        crossover
        mutation
        phenotype mapping
        fitness computation
    until population complete
    selection of parental population
until termination condition
```

#### 1.初始化
初始化时就将种群表现型转化为基因型《离散型或连续型》，离散型即为bit string。

#### 2.Crossover
进行基因型的交配，交配方案有很多种，常用的就是n点交叉。其中1点交叉是选取bit string中的一个点分裂，交换两个bit string的对应部分。

#### 3.Mutation
变异非常重要，它保证了遗传算法的解空间可以涵盖实际问题的全部解。
变异算子需要确保：可达全部解空间，无偏向性，可拓展性（即对各种问题的自适应）

一般变异算子包括：一点翻转

#### 4.基因型-表现型映射
在交配、变异后，需要将基因型（即bit string）映射为表现型，以进行下一步的适应度计算。但在一些问题中，这一步可以省略，直接可以通过基因型便算出适应度。

#### 5.适应度计算
适应度计算需要根据实际问题进行。
具体的实行可能有些问题：多目标优化问题中哪些目标更重要？较接近全局最优解但又不可行的解的适应度值应该比距离最优解更远但可行的解更高吗？

同时适应度计算应该考虑实际时间，不能太长。

#### 6.新父母的选取
主循环结束于种群数量增长到预定值，此时将发生“天灾”，即削减种群数量，仅选取一批数量作为新父母，以进行下一个循环。

选取的规则有很多种，最常用的是轮赌大转盘，见[CSDN中对轮赌法的介绍](https://blog.csdn.net/weixin_39068956/article/details/105121469)。这种方法使得每个个体都可能被选到，虽然有可能全局最优解会被遗漏，但是却是克服陷入局部最优解的最好方法。

《Genetic Algorithm Essential》中讲，讨论引入其他更多的选取方法在这一步，不如去讨论交配选择。
**交配选择**是选取哪些个体将参与到后代的产生中去，不同于新父母的选取（是选取这一代中要存存活到下一代的个体）

#### 7.termination condition
终止条件可以是：运行够一定次数；优化过程的收敛判断。

可以进行适当次数的重启，以减小陷入局部解的可能